@model ProjetoBackend.Models.Venda

@{
    ViewData["Title"] = "Criar Venda";
}

<h2>@ViewData["Title"]</h2>

<form asp-action="Create">
    <div class="form-group">
        <label asp-for="ClienteId" class="control-label"></label>
        <input asp-for="ClienteId" class="form-control" asp-items="@(ViewData["ClienteId"] as SelectList)"></input>
    </div>

    <div class="form-group">
        <label for="CodigoProduto">Código do Produto</label>
        <input type="text" id="CodigoProduto" name="CodigoProduto" class="form-control" />
    </div>

    <div class="form-group">
        <label for="QuantidadeProduto">Quantidade</label>
        <input type="number" id="QuantidadeProduto" name="QuantidadeProduto" class="form-control" />
    </div>

    <button type="button" id="AdicionarProduto" class="btn btn-primary">Adicionar Produto</button>

    <!-- Tabela para listar os itens -->
    <table class="table" id="TabelaItens">
        <thead>
            <tr>
                <th>Produto</th>
                <th>Preço Unitário</th>
                <th>Quantidade</th>
                <th>Total</th>
            </tr>
        </thead>
        <tbody>
            <!-- Tabela de Serviços -->
            <h4>Serviços</h4>

            <div class="form-group">
                <label for="NomeServico">Nome do Serviço</label>
                <input type="text" id="NomeServico" class="form-control" onkeyup="buscarServico()" />
            </div>
            <button type="button" id="AdicionarServico" class="btn btn-secondary" onclick="adicionarServico()">Adicionar Serviço</button>

            <table class="table" id="TabelaServicos">
                <thead>
                    <tr>
                        <th>Serviço</th>
                        <th>Preço</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Os serviços serão adicionados aqui -->
                </tbody>
            </table>

            <!-- Os itens serão adicionados aqui -->
        </tbody>
    </table>

    <div class="form-group">
        <label for="ValorTotal">Valor Total</label>
        <input type="text" id="ValorTotal" class="form-control" disabled />
    </div>

    <button type="submit" class="btn btn-success">Salvar Venda</button>

</form>


@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");

    }
}
